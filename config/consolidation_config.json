{
  "_comment": "Knowledge Graph Consolidation Configuration - Production Tuned for 44 Interviews",
  "_version": "2.0.0",
  "_last_updated": "2025-11-09",
  
  "similarity_thresholds": {
    "_comment": "Similarity thresholds for duplicate detection (0.0-1.0). Lower = more aggressive merging, Higher = more conservative.",
    "_tuning_notes": "Tuned for 44 interviews. Pain points and processes use lower thresholds (0.70-0.75) to catch more duplicates. KPIs and team structures use higher thresholds (0.85-0.90) for precision.",
    
    "pain_points": 0.70,
    "processes": 0.75,
    "systems": 0.75,
    "kpis": 0.85,
    "automation_candidates": 0.75,
    "inefficiencies": 0.70,
    "communication_channels": 0.75,
    "decision_points": 0.75,
    "data_flows": 0.80,
    "temporal_patterns": 0.75,
    "failure_modes": 0.70,
    "team_structures": 0.90,
    "knowledge_gaps": 0.75,
    "success_patterns": 0.75,
    "budget_constraints": 0.80,
    "external_dependencies": 0.80,
    "default": 0.75
  },
  
  "similarity_weights": {
    "_comment": "Weights for combining name and semantic similarity. Must sum to 1.0.",
    "_rationale": "Name matching (70%) is more reliable than semantic similarity (30%) for entity deduplication.",
    
    "semantic_weight": 0.3,
    "name_weight": 0.7
  },
  
  "consensus_parameters": {
    "_comment": "Parameters for calculating consensus confidence scores.",
    "_tuning_notes": "Adjusted for 44 interviews: source_count_divisor=5 means 20% of interviews (9) = 1.0 confidence. Single source penalty increased to 0.3 to flag low-confidence entities.",
    
    "source_count_divisor": 5,
    "agreement_bonus_per_attribute": 0.05,
    "max_agreement_bonus": 0.3,
    "contradiction_penalty_per_attribute": 0.25,
    "single_source_penalty": 0.3
  },
  
  "pattern_recognition": {
    "_comment": "Thresholds for identifying recurring patterns across interviews.",
    "_rationale": "recurring_pain_threshold=3 means mentioned by 3+ people. high_priority_frequency=0.30 means 30% of interviews (13+).",
    
    "recurring_pain_threshold": 3,
    "problematic_system_threshold": 5,
    "high_priority_frequency": 0.30
  },
  
  "performance": {
    "_comment": "Performance optimization settings.",
    "_rationale": "Fuzzy-first filtering reduces API calls by 90-95%. skip_semantic_threshold=0.95 means obvious duplicates skip expensive semantic similarity.",
    
    "max_candidates": 10,
    "batch_size": 100,
    "enable_caching": true,
    "use_db_storage": true,
    "fuzzy_first_filtering": {
      "enabled": true,
      "skip_semantic_threshold": 0.95
    }
  },
  
  "retry": {
    "_comment": "API retry and circuit breaker configuration.",
    "_rationale": "3 retries with exponential backoff handles transient API failures. Circuit breaker disables semantic similarity after 10 consecutive failures.",
    
    "max_retries": 3,
    "exponential_backoff": true,
    "circuit_breaker_threshold": 10
  },
  
  "logging": {
    "_comment": "Logging configuration for consolidation operations.",
    "_rationale": "INFO level for production. Rotating logs prevent disk space issues.",
    
    "level": "INFO",
    "file": "logs/consolidation.log",
    "max_size_mb": 10,
    "backup_count": 5,
    "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  },
  
  "quality_thresholds": {
    "_comment": "Quality thresholds for validation and alerts.",
    "_rationale": "These thresholds trigger warnings in validation reports.",
    
    "min_duplicate_reduction_percentage": 70,
    "min_avg_confidence_score": 0.75,
    "max_contradiction_rate_percentage": 10,
    "min_cache_hit_rate_percentage": 95
  },
  
  "production_settings": {
    "_comment": "Production-specific settings.",
    "_enabled": true,
    
    "enable_snapshots": true,
    "enable_audit_trail": true,
    "enable_metrics_collection": true,
    "enable_relationship_discovery": true,
    "enable_pattern_recognition": true,
    "auto_rollback_on_error": false,
    "require_manual_approval_for_rollback": true
  },

  "consolidation_sync": {
    "_comment": "Configuraci√≥n para propagar merges hacia PostgreSQL/Neo4j.",
    "enabled": true,
    "batch_size": 250,
    "default_org_id": null,
    "neo4j_enabled": false,
    "graph_batch_size": 100
  }
}
